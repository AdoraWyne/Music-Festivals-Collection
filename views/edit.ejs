<%- include("./partials/head.ejs") %>

<header>
    <h1>Edit this Music Festival</h1>
    <!-- a link back to the collection main page-->
    <a href="/events">Back to All Collections Page</a>
</header>

<main>
    <form method="post" action="/events/<%= event._id %>?_method=PUT" enctype="multipart/form-data">
        <fieldset>
            <legend>Edit Here:</legend>
            <label for="title">Name:</label>
            <input type="text" id="title" name="title" value="<%= event.title %>" required />

            <br />

            <label for="website">Website:</label>
            <input type="url" id="website" name="website" value="<%= event.website %>" />

            <br />

            <label for="location">Where:</label>
            <input type="text" id="location" name="location" value="<%= event.location %>" required />

            <br />

            <label for="date">When:</label>
            <input type="text" id="date" name="date" value="<%= event.date %>" />

            <br />
            
            <label for="imageURL">Image Link:</label>
            <input type="file" id="imageURL" name="imageURL" value="<%= event.imageURL %>" />
            
            <br />
            
            <label for="category">Category:</label>
            <select name="category" id="category">
                <% categories.forEach((category) => { %>
                    <option <%= category === event.category ? 'selected' : '' %>><%= category %></>
                  <% }) %>
                <!-- <option value="">--Please choose an option--</option>
                <option value="Mixed genres">Mixed genres</option>
                <option value="Trance">Trance</option>
                <option value="Techno">Techno</option>
                <option value="House">House</option>
                <option value="DnB">DnB</option>
                <option value="Trap">Trap</option>
                <option value="Hardstyle">Hardstyle</option>
                <option value="Others">Others</option> -->
            </select>
            
            <br />
            
            <label for="rating">Rating:</label>
            <input type="number" id="rating" name="rating" min="0" max="5" />
            
            <br />
            
            <label for="price">Ticket Price:</label>
            <input type="number" id="price" name="price" min="0" step="0.01" />
            
            <br />
            
            <label for="description">Description:</label>
            <textarea name="description" id="description"></textarea>

            <br />

            <label for="comment">Comment:</label>
            <textarea name="comment" id="comment"></textarea>

            <br />

            <button type="submit">Save the changes!</button>
    </fieldset>
    </form>
    
</main>

<%- include("./partials/foot.ejs") %>